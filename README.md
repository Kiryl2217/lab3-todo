# Поиск "TODO" в исходном коде

Консольное Java-приложение для рекурсивного сканирования директорий и поиска комментариев `TODO` и `FIXME` в исходном коде. Проект разработан в рамках лабораторной работы №3 по курсу "Инструменты поддержки промышленной разработки программного обеспечения" (ИППРПО).

Приложение читает конфигурацию, обходит указанную папку, фильтрует файлы по расширению и выводит в консоль сгруппированный отчет с указанием файла, номера строки и текста найденного комментария.

## Технологический стек

*   **Java:** Язык программирования. Код написан с использованием возможностей JDK 17.
*   **Gradle:** Система автоматической сборки проекта (версия 8.5).
*   **JUnit 5:** Фреймворк для модульного тестирования.
*   **GitHub Actions:** Система для автоматизации CI/CD (матричная сборка, тестирование, релизы).

## Требования для запуска

*   **Git:** Для клонирования репозитория.
*   **Java Development Kit (JDK):** Версия 17.
    *   Проект использует для компиляции возможности Java 17. Если у вас установлена другая версия JDK (например, 11 или 21), потребуется внести изменение в конфигурацию сборки (см. ниже) или полагаться на Gradle Toolchain.
    *   Минимально возможная версия для запуска — JDK 11.

## Установка и настройка

Клонируйте репозиторий:

```bash
git clone <URL-вашего-репозитория>
cd lab3-todo
```

**(Опционально) Настройка версии Java, если у вас не JDK 17:**

Если у вас установлена другая версия JDK (например, 21), вы можете открыть файл `build.gradle` и изменить (или добавить) версию в блоке toolchain.

Найдите этот блок в `build.gradle` (или добавьте, если его нет):

```groovy
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}
```

Замените `17` на номер вашей версии. Например, для JDK 21:

```groovy
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}
```

**Создайте файлы конфигурации:**

Важно! Файл `app.properties` не отслеживается системой контроля версий (добавлен в `.gitignore`) и должен быть создан вручную.

Создайте файл `app.properties` в **корне проекта** (рядом с `build.gradle`) со следующим содержимым:

```properties
# Директория для сканирования (точка означает текущую папку)
scan.source.directory=./src

# Расширения файлов для сканирования (через запятую)
scan.file.extensions=.java,.kt,.xml,.md,.txt

# Ключевые слова для поиска (через запятую, регистронезависимо)
scan.keywords=TODO,FIXME
```

## Сборка и запуск

Проект использует плагин `application` и Gradle Wrapper, что делает его запуск очень простым. Вам не нужно устанавливать Gradle глобально.

**Сборка и тестирование (рекомендуется):**

Эта команда скомпилирует исходный код и запустит все тесты.

Для Linux / macOS:
```bash
./gradlew build
```
Для Windows:
```powershell
.\gradlew build
```

**Запуск приложения:**

Эта команда запустит приложение напрямую, без необходимости вручную собирать JAR-файл.

Для Linux / macOS:
```bash
./gradlew run
```
Для Windows:
```powershell
.\gradlew run
```

## Пример вывода в консоль

```text
Task :run
Found 3 issues:

[src/main/java/com/example/todo/TodoScanner.java]
  L15: // TODO: Add multithreading support
  L42: // FIXME: Potential NullPointerException here

[README.md]
  L10: TODO: Update documentation with screenshots

BUILD SUCCESSFUL in 1s
```

## CI/CD Pipeline

Проект использует **GitHub Actions** для автоматизации процессов сборки и тестирования. Рабочий процесс настроен в файле `.github/workflows/build.yml` и запускается при каждом push в основную ветку, при создании Pull Request и при создании тегов.

**Основные этапы CI/CD:**

1.  **Создание конфигурации:** Временный файл `app.properties` генерируется автоматически в процессе CI для прохождения тестов.
2.  **Матричная сборка:** Проект собирается и тестируется на нескольких версиях Java (**JDK 11, 17, 21**) в среде Linux (Ubuntu). Это гарантирует кросс-версионную совместимость.
3.  **Автоматический релиз:**
    *   При отправке тега, начинающегося с `v` (например, `git tag v1.0.0`), запускается задача `release`.
    *   Она собирает исполняемый JAR-файл.
    *   Создает релиз на GitHub и прикрепляет к нему собранный артефакт.

**Автор**
Kuksionak Kiryl