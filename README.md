# Поиск "TODO" в исходном коде

Консольное Java-приложение для рекурсивного сканирования директорий и поиска комментариев `TODO` и `FIXME` в исходном коде. Проект разработан в рамках лабораторной работы №3 по курсу "Инструменты поддержки промышленной разработки программного обеспечения" (ИППРПО).

Приложение читает конфигурацию, обходит указанную папку, фильтрует файлы по расширению и выводит в консоль сгруппированный отчет с указанием файла, номера строки и текста найденного комментария.

## Технологический стек

*   **Java:** Язык программирования. Код написан с использованием возможностей JDK 17.
*   **Gradle:** Система автоматической сборки проекта (версия 8.5).
*   **JUnit 5:** Фреймворк для модульного тестирования.
*   **GitHub Actions:** Система для автоматизации CI/CD (матричная сборка, тестирование, релизы).

## Требования для запуска

*   **Git:** Для клонирования репозитория.
*   **Java Development Kit (JDK):** Версия 17.
    *   Если Java не установлена, скачайте и установите её с сайта https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html
    *   Проект использует для компиляции возможности Java 17. Если у вас установлена другая версия JDK (например, 11 или 21), потребуется внести изменение в конфигурацию сборки (см. ниже).
    *   Минимально возможная версия для запуска — JDK 11.

## Установка и настройка

### 1. Клонирование репозитория

Откройте терминал (Git Bash, командную строку cmd.exe или PowerShell) в папке, куда хотите сохранить проект, и выполните команду:

```bash
git clone https://github.com/Kiryl2217/lab3-todo.git
cd lab3-todo
```

**2. Настройка версии Java, если у вас не JDK 17:**

Если у вас установлена другая версия JDK (например, 21), вы можете открыть файл `build.gradle` (в папке проекта) и добавить следующий блок кода:

```groovy
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}
```

`21` можно заменить на номер вашей версии.

**3. Создайте файлы конфигурации:**

**Важно!** Файл `app.properties` не отслеживается системой контроля версий (добавлен в `.gitignore`) и должен быть создан вручную.

**Инструкция по созданию:**
1.  Зайдите в папку с проектом (туда, где лежит `build.gradle`).
2.  Создайте новый текстовый файл.
3.  Переименуйте его в `app.properties`.
    *   *Внимание:* Убедитесь, что вы удалили расширение `.txt` (файл не должен называться `app.properties.txt`).
4.  Откройте его любым текстовым редактором (Блокнот, Notepad++) и вставьте следующее содержимое:

```properties
# Директория для сканирования (точка означает текущую папку)
scan.source.directory=./src

# Расширения файлов для сканирования (через запятую)
scan.file.extensions=.txt

# Ключевые слова для поиска (через запятую, регистронезависимо)
scan.keywords=TODO,FIXME
```

## Сборка и запуск

Проект использует плагин `application` и Gradle Wrapper, что делает его запуск очень простым. Вам не нужно устанавливать Gradle глобально.

**Сборка и тестирование**

Эта команда скомпилирует исходный код и запустит все тесты.

*   **Для Linux / macOS / Git Bash:**
    ```bash
    ./gradlew build
    ```
*   **Для Windows PowerShell:**
    ```powershell
    .\gradlew build
    ```
*   **Для Windows CMD (Командная строка):**
    ```cmd
    gradlew build
    ```

**Запуск приложения:**

Эта команда запустит приложение напрямую, без необходимости вручную собирать JAR-файл.

*   **Для Linux / macOS / Git Bash:**
    ```bash
    ./gradlew run
    ```
*   **Для Windows PowerShell:**
    ```powershell
    .\gradlew run
    ```
*   **Для Windows CMD (Командная строка):**
    ```cmd
    gradlew run
    ```

## Пример вывода в консоль

```text
> Task :run
Found 4 issues:

[.\src\text.txt]
  L1: TODO
  L2: TODO
  L3: TODO
  L5: FIXME

BUILD SUCCESSFUL in 1s
```

## CI/CD Pipeline

Проект использует **GitHub Actions** для автоматизации процессов сборки и тестирования. Рабочий процесс настроен в файле `.github/workflows/build.yml` и запускается при каждом push в основную ветку, при создании Pull Request и при создании тегов.

**Основные этапы CI/CD:**

1.  **Создание конфигурации:** Временный файл `app.properties` генерируется автоматически в процессе CI для прохождения тестов.
2.  **Матричная сборка:** Проект собирается и тестируется на нескольких версиях Java (**JDK 11, 17, 21**) в среде Linux (Ubuntu). Это гарантирует кросс-версионную совместимость.
3.  **Автоматический релиз:**
    *   При отправке тега, начинающегося с `v` (например, `git tag v1.0.0`), запускается задача `release`.
    *   Она собирает исполняемый JAR-файл.
    *   Создает релиз на GitHub и прикрепляет к нему собранный артефакт.

**Автор**
Kuksionak Kiryl